---
import Layout from '../../layouts/Layout.astro';

const docsBase = 'https://edadma.github.io/asterui';
const siteBase = import.meta.env.DEV ? '' : 'https://asterui.com';

// Components with documentation pages
const docPages = new Set([
  'affix', 'alert', 'anchor', 'autocomplete', 'avatar', 'badge', 'breadcrumb', 'browser', 'button',
  'card', 'carousel', 'cascader', 'chart', 'chat', 'checkbox', 'code', 'command', 'copybutton',
  'collapse', 'colorpicker', 'container', 'contextmenu', 'countdown', 'datepicker', 'descriptions', 'diff', 'divider', 'dock', 'drawer',
  'dropdown', 'empty', 'fieldset', 'fileinput', 'filter', 'flex', 'floatbutton', 'footer', 'form', 'grid',
  'hero', 'hovergallery', 'image', 'indicator', 'input', 'inputnumber', 'join', 'kbd', 'label', 'layout',
  'list', 'loading', 'mask', 'masonry', 'mention', 'menu', 'message', 'modal', 'navbar', 'notification',
  'otpinput', 'pagination', 'phone', 'popconfirm', 'popover', 'progress', 'qrcode', 'radialprogress',
  'radio', 'range', 'rating', 'responsive', 'responsivedrawer', 'result', 'segmented', 'select', 'skeleton', 'space',
  'splitter', 'stat', 'status', 'steps', 'table', 'tabs', 'tag', 'textarea', 'textrotate',
  'themecontroller', 'timeline', 'timepicker', 'toggle', 'tooltip', 'tour', 'transfer', 'tree',
  'treeselect', 'typography', 'upload', 'virtuallist', 'watermark', 'window'
]);

// Complete component catalog - all 100+ AsterUI components (alphabetized within each category)
const componentCategories = [
  {
    name: 'Actions',
    components: [
      { name: 'Button', slug: 'button', description: 'Versatile button with DaisyUI styling, multiple variants, sizes, and states', props: ['type', 'size', 'outline', 'dash', 'soft', 'active', 'loading', 'shape', 'noAnimation', 'disabled', 'href', 'htmlType'] },
      { name: 'CopyButton', slug: 'copybutton', description: 'Button for copying text to clipboard with visual feedback', props: ['text', 'timeout', 'color', 'variant', 'size', 'shape', 'showTooltip', 'onCopy', 'onError'] },
      { name: 'Dropdown', slug: 'dropdown', description: 'Dropdown menu overlay', props: ['menu', 'trigger', 'placement', 'arrow', 'open'] },
      { name: 'FloatButton', slug: 'floatbutton', description: 'Floating action button', props: ['icon', 'onClick', 'type', 'tooltip', 'badge'] },
      { name: 'Modal', slug: 'modal', description: 'Dialog overlay with customizable content', props: ['open', 'onClose', 'title', 'footer', 'width', 'centered', 'maskClosable'] },
      { name: 'ThemeController', slug: 'themecontroller', description: 'Theme switching control', props: ['theme', 'onChange'] },
    ]
  },
  {
    name: 'General',
    components: [
      { name: 'Kbd', slug: 'kbd', description: 'Display keyboard keys and shortcuts', props: ['size', 'children'] },
      { name: 'Mask', slug: 'mask', description: 'Apply CSS masks to crop content into shapes', props: ['shape', 'half', 'children'] },
      { name: 'TextRotate', slug: 'textrotate', description: 'Animated text that cycles through multiple options', props: ['items', 'duration', 'centered', 'className'] },
      { name: 'Typography', slug: 'typography', description: 'Text display with Title, Text, Paragraph, and Link subcomponents', props: ['level', 'type', 'copyable', 'ellipsis', 'mark', 'code'] },
    ]
  },
  {
    name: 'Layout',
    components: [
      { name: 'Affix', slug: 'affix', description: 'Sticky positioning wrapper', props: ['children', 'offsetTop', 'offsetBottom', 'target', 'onChange', 'className'] },
      { name: 'Container', slug: 'container', description: 'Centered content container with max-width', props: ['size', 'centered'] },
      { name: 'Divider', slug: 'divider', description: 'Visual separator for content sections', props: ['type', 'orientation', 'dashed'] },
      { name: 'Fieldset', slug: 'fieldset', description: 'Grouping container with legend', props: ['legend', 'disabled'] },
      { name: 'Flex', slug: 'flex', description: 'Flexible box layout component', props: ['direction', 'justify', 'align', 'wrap', 'gap', 'flex', 'inline', 'minHeight', 'minWidth'] },
      { name: 'Footer', slug: 'footer', description: 'Page footer with links and social', props: ['links', 'social', 'copyright'] },
      { name: 'Grid', slug: 'grid', description: 'Responsive 24-column grid system with Row and Col', props: ['gutter', 'span', 'offset', 'xs', 'sm', 'md', 'lg', 'xl', 'xxl'] },
      { name: 'Hero', slug: 'hero', description: 'Hero section with background and CTA', props: ['title', 'subtitle', 'actions', 'background'] },
      { name: 'HoverGallery', slug: 'hovergallery', description: 'Reveal images by hovering horizontally', props: ['images', 'alts'] },
      { name: 'Join', slug: 'join', description: 'Join elements together visually', props: ['direction'] },
      { name: 'Layout', slug: 'layout', description: 'Page layout with Header, Sider, Content, and Footer sections', props: ['hasSider', 'className'] },
      { name: 'Masonry', slug: 'masonry', description: 'Pinterest-style masonry grid layout', props: ['columns', 'gap'] },
      { name: 'ResponsiveDrawer', slug: 'responsivedrawer', description: 'Responsive sidebar layout using DaisyUI drawer', props: ['children', 'sidebar', 'open', 'onOpenChange', 'end', 'width', 'responsive', 'sidebarClassName'] },
      { name: 'Space', slug: 'space', description: 'Inline element spacing wrapper', props: ['size', 'direction', 'wrap', 'align'] },
      { name: 'Splitter', slug: 'splitter', description: 'Resizable split panes layout', props: ['direction', 'sizes', 'minSizes', 'onResize'] },
    ]
  },
  {
    name: 'Responsive',
    components: [
      { name: 'Show', slug: 'responsive', description: 'Conditionally render content based on breakpoint', props: ['above', 'below', 'at', 'between', 'children'] },
      { name: 'Hide', slug: 'responsive', description: 'Conditionally hide content based on breakpoint', props: ['above', 'below', 'at', 'between', 'children'] },
      { name: 'useBreakpoint', slug: 'responsive', description: 'Hook for detecting current breakpoint', props: ['breakpoint', 'width', 'isAbove', 'isBelow', 'isAt', 'isBetween'] },
    ]
  },
  {
    name: 'Navigation',
    components: [
      { name: 'Anchor', slug: 'anchor', description: 'Navigate to page sections with scroll spy', props: ['items', 'direction', 'offsetTop', 'getContainer', 'onChange', 'activeLink'] },
      { name: 'Breadcrumb', slug: 'breadcrumb', description: 'Navigation breadcrumb trail', props: ['children', 'className'] },
      { name: 'Command', slug: 'command', description: 'Command palette for quick search and actions', props: ['open', 'onOpenChange', 'items', 'placeholder', 'shortcut', 'filter', 'loop'] },
      { name: 'ContextMenu', slug: 'contextmenu', description: 'Right-click context menu with submenus', props: ['items', 'onSelect', 'disabled', 'children'] },
      { name: 'Dock', slug: 'dock', description: 'Mobile-style bottom navigation bar', props: ['items', 'size', 'activeIndex', 'onChange'] },
      { name: 'Menu', slug: 'menu', description: 'Navigation menu with nested items and multiple modes', props: ['items', 'mode', 'selectedKeys', 'openKeys', 'onClick', 'theme'] },
      { name: 'Navbar', slug: 'navbar', description: 'Top navigation bar with responsive menu', props: ['logo', 'items', 'actions'] },
      { name: 'Pagination', slug: 'pagination', description: 'Page navigation controls', props: ['current', 'total', 'pageSize', 'onChange', 'showSizeChanger', 'showTotal'] },
      { name: 'Steps', slug: 'steps', description: 'Step-by-step navigation indicator', props: ['current', 'items', 'direction', 'status', 'onChange'] },
      { name: 'Tabs', slug: 'tabs', description: 'Tab navigation with lazy loading and customizable tab bar', props: ['items', 'activeKey', 'onChange', 'type', 'tabPosition', 'centered'] },
    ]
  },
  {
    name: 'Data Entry',
    components: [
      { name: 'Autocomplete', slug: 'autocomplete', description: 'Input with auto-completion suggestions', props: ['value', 'defaultValue', 'onChange', 'options', 'placeholder', 'disabled', 'size', 'allowCustomValue', 'filterOption', 'notFoundContent', 'className'] },
      { name: 'OTPInput', slug: 'otpinput', description: 'One-time password input fields', props: ['length', 'value', 'onChange', 'onComplete', 'size', 'type', 'mask', 'disabled'] },
      { name: 'Cascader', slug: 'cascader', description: 'Hierarchical selection dropdown', props: ['options', 'value', 'onChange', 'displayRender', 'expandTrigger'] },
      { name: 'Checkbox', slug: 'checkbox', description: 'Checkbox input with group support', props: ['checked', 'onChange', 'disabled', 'indeterminate'] },
      { name: 'ColorPicker', slug: 'colorpicker', description: 'Color selection control', props: ['value', 'onChange', 'format', 'presets', 'showText'] },
      { name: 'DatePicker', slug: 'datepicker', description: 'Date selection with range support and custom formats', props: ['value', 'onChange', 'format', 'picker', 'showTime', 'disabledDate'] },
      { name: 'FileInput', slug: 'fileinput', description: 'Simple file input control', props: ['accept', 'multiple', 'onChange'] },
      { name: 'Filter', slug: 'filter', description: 'Radio button group for single-option filtering with auto-hide', props: ['options', 'value', 'onChange', 'size', 'showReset'] },
      { name: 'Form', slug: 'form', description: 'Form wrapper with validation, layout control, and submission handling', props: ['onFinish', 'onFinishFailed', 'initialValues', 'layout', 'disabled'] },
      { name: 'Input', slug: 'input', description: 'Text input with prefix/suffix, floating label, and addon support', props: ['value', 'onChange', 'placeholder', 'prefix', 'suffix', 'floatingLabel', 'addonBefore', 'addonAfter', 'status', 'size', 'allowClear'] },
      { name: 'InputNumber', slug: 'inputnumber', description: 'Numeric input with step controls', props: ['value', 'onChange', 'min', 'max', 'step', 'precision', 'controls'] },
      { name: 'Mention', slug: 'mention', description: 'Mention input with @ triggers', props: ['options', 'value', 'onChange', 'prefix', 'split'] },
      { name: 'Radio', slug: 'radio', description: 'Radio button with group support', props: ['value', 'onChange', 'disabled', 'optionType'] },
      { name: 'Range', slug: 'range', description: 'Slider range input', props: ['value', 'onChange', 'min', 'max', 'step', 'marks', 'range'] },
      { name: 'Rating', slug: 'rating', description: 'Star rating input', props: ['value', 'onChange', 'count', 'allowHalf', 'disabled', 'character'] },
      { name: 'Segmented', slug: 'segmented', description: 'Inline toggle for switching between options', props: ['options', 'value', 'defaultValue', 'onChange', 'size', 'block', 'disabled'] },
      { name: 'Select', slug: 'select', description: 'Dropdown selection with search and multi-select', props: ['options', 'value', 'onChange', 'mode', 'loading', 'searchable', 'allowClear'] },
      { name: 'Textarea', slug: 'textarea', description: 'Multi-line text input', props: ['value', 'onChange', 'rows', 'autoSize', 'maxLength', 'showCount'] },
      { name: 'TimePicker', slug: 'timepicker', description: 'Time selection control', props: ['value', 'onChange', 'format', 'hourStep', 'minuteStep', 'use12Hours'] },
      { name: 'Toggle', slug: 'toggle', description: 'Toggle switch control', props: ['checked', 'onChange', 'disabled', 'size', 'loading'] },
      { name: 'Transfer', slug: 'transfer', description: 'Two-column transfer selection', props: ['dataSource', 'targetKeys', 'onChange', 'titles', 'render'] },
      { name: 'TreeSelect', slug: 'treeselect', description: 'Tree-structured selection dropdown', props: ['treeData', 'value', 'onChange', 'multiple', 'treeCheckable', 'showSearch'] },
      { name: 'Upload', slug: 'upload', description: 'File upload with drag and drop', props: ['action', 'fileList', 'onChange', 'multiple', 'accept', 'listType', 'beforeUpload'] },
    ]
  },
  {
    name: 'Data Display',
    components: [
      { name: 'Avatar', slug: 'avatar', description: 'User avatar with image or initials', props: ['src', 'alt', 'icon', 'children', 'size', 'shape', 'status', 'className', 'style'] },
      { name: 'Badge', slug: 'badge', description: 'Status indicator or count display', props: ['count', 'showZero', 'overflowCount', 'position', 'offset', 'status', 'text', 'ribbon', 'ribbonPlacement', 'dot', 'type', 'size', 'outline', 'children', 'className'] },
      { name: 'Card', slug: 'card', description: 'Content container with header, body, and actions', props: ['children', 'title', 'cover', 'actions', 'className', 'style', 'size', 'bordered', 'side', 'imageFull', 'actionsJustify'] },
      { name: 'Carousel', slug: 'carousel', description: 'Rotating content carousel', props: ['autoplay', 'dots', 'effect', 'afterChange', 'beforeChange'] },
      { name: 'Chart', slug: 'chart', description: 'Chart visualization with ApexCharts', props: ['type', 'series', 'options', 'height', 'width'] },
      { name: 'Chat', slug: 'chat', description: 'Chat message bubbles', props: ['messages', 'position'] },
      { name: 'Collapse', slug: 'collapse', description: 'Collapsible content panels (accordion)', props: ['items', 'activeKey', 'onChange', 'accordion', 'bordered'] },
      { name: 'Countdown', slug: 'countdown', description: 'Countdown timer with customizable format', props: ['value', 'format', 'onFinish', 'onChange', 'size', 'showLabels', 'boxed'] },
      { name: 'Descriptions', slug: 'descriptions', description: 'Key-value display list', props: ['items', 'title', 'column', 'bordered', 'layout', 'size'] },
      { name: 'Diff', slug: 'diff', description: 'Side-by-side comparison with interactive resizer', props: ['left', 'right', 'aspect', 'className'] },
      { name: 'Empty', slug: 'empty', description: 'Empty state placeholder', props: ['description', 'image', 'imageStyle'] },
      { name: 'Image', slug: 'image', description: 'Image display with preview', props: ['src', 'alt', 'width', 'height', 'preview', 'fallback'] },
      { name: 'List', slug: 'list', description: 'Vertical list with item rendering and pagination', props: ['dataSource', 'renderItem', 'pagination', 'loading', 'header', 'footer', 'grid'] },
      { name: 'Popover', slug: 'popover', description: 'Rich content popup', props: ['content', 'title', 'placement', 'trigger', 'open'] },
      { name: 'QRCode', slug: 'qrcode', description: 'QR code generator', props: ['value', 'size', 'color', 'bgColor', 'errorLevel', 'icon'] },
      { name: 'Stat', slug: 'stat', description: 'Statistical value display', props: ['title', 'value', 'prefix', 'suffix', 'precision', 'valueStyle'] },
      { name: 'Status', slug: 'status', description: 'Small indicator dot for status like online, offline, error', props: ['type', 'size', 'ping', 'bounce', 'label'] },
      { name: 'Table', slug: 'table', description: 'Data table with sorting, filtering, pagination, and row selection', props: ['columns', 'dataSource', 'pagination', 'rowSelection', 'loading', 'scroll', 'expandable'] },
      { name: 'Tag', slug: 'tag', description: 'Categorization label with colors and closeable option', props: ['color', 'closable', 'onClose', 'bordered'] },
      { name: 'Timeline', slug: 'timeline', description: 'Vertical timeline display', props: ['items', 'mode', 'pending', 'reverse'] },
      { name: 'Tooltip', slug: 'tooltip', description: 'Simple text popup on hover', props: ['title', 'placement', 'trigger', 'color', 'arrow'] },
      { name: 'Tree', slug: 'tree', description: 'Hierarchical tree structure', props: ['treeData', 'checkable', 'selectedKeys', 'expandedKeys', 'onSelect', 'onCheck'] },
      { name: 'VirtualList', slug: 'virtuallist', description: 'Efficiently render large lists by only rendering visible items', props: ['items', 'height', 'itemHeight', 'renderItem', 'overscan', 'gap', 'onScroll'] },
      { name: 'Watermark', slug: 'watermark', description: 'Overlay repeating text or image watermark over content', props: ['content', 'image', 'gap', 'offset', 'rotate', 'zIndex', 'font'] },
    ]
  },
  {
    name: 'Feedback',
    components: [
      { name: 'Alert', slug: 'alert', description: 'Alert message banner', props: ['children', 'type', 'outline', 'dash', 'soft', 'vertical', 'className'] },
      { name: 'Drawer', slug: 'drawer', description: 'Slide-out panel', props: ['open', 'onClose', 'title', 'placement', 'width', 'mask'] },
      { name: 'Loading', slug: 'loading', description: 'Loading spinner indicator', props: ['size', 'type', 'color'] },
      { name: 'Message', slug: 'message', description: 'Lightweight feedback messages at top center', props: ['content', 'duration', 'onClick', 'onClose'] },
      { name: 'Notification', slug: 'notification', description: 'System notification with title and description', props: ['message', 'description', 'type', 'placement', 'duration'] },
      { name: 'Popconfirm', slug: 'popconfirm', description: 'Confirmation popup before action', props: ['title', 'description', 'onConfirm', 'onCancel', 'okText', 'cancelText'] },
      { name: 'Progress', slug: 'progress', description: 'Progress indicator bar or circle', props: ['percent', 'type', 'status', 'showInfo', 'strokeColor'] },
      { name: 'RadialProgress', slug: 'radialprogress', description: 'Circular progress indicator', props: ['value', 'size', 'thickness'] },
      { name: 'Result', slug: 'result', description: 'Operation result feedback page', props: ['status', 'title', 'subTitle', 'extra', 'icon'] },
      { name: 'Skeleton', slug: 'skeleton', description: 'Loading placeholder', props: ['active', 'avatar', 'paragraph', 'title', 'loading'] },
      { name: 'Tour', slug: 'tour', description: 'Guided tour with spotlight and step navigation', props: ['open', 'steps', 'current', 'onChange', 'onClose', 'mask', 'type'] },
    ]
  },
  {
    name: 'Mockups & Demos',
    components: [
      { name: 'Browser', slug: 'browser', description: 'Browser window mockup frame', props: ['children', 'url', 'className', 'contentClassName'] },
      { name: 'Code', slug: 'code', description: 'Code display mockup with line numbers and highlighting', props: ['lines', 'prefix', 'highlight'] },
      { name: 'Phone', slug: 'phone', description: 'Mobile phone mockup frame', props: ['children'] },
      { name: 'Window', slug: 'window', description: 'Desktop window mockup frame', props: ['title', 'children'] },
    ]
  },
];
---

<Layout title="Components - AsterUI" description="Browse all 100+ AsterUI components with props and descriptions">
  <article>
    <header class="mb-8">
      <nav class="text-sm breadcrumbs mb-4">
        <ul>
          <li><a href="/">Home</a></li>
          <li>Components</li>
        </ul>
      </nav>
      <h1 class="text-4xl font-bold">Components</h1>
      <p class="text-lg text-base-content/70 mt-2">
        Browse all 100+ AsterUI components. Each component is fully typed, test-friendly, and follows familiar API patterns.
      </p>
    </header>

    {componentCategories.map(category => (
      <section class="mb-12" aria-labelledby={`category-${category.name.toLowerCase().replace(/\s+/g, '-')}`}>
        <h2 id={`category-${category.name.toLowerCase().replace(/\s+/g, '-')}`} class="text-2xl font-bold mb-4 border-b border-base-300 pb-2">
          {category.name}
          <span class="text-sm font-normal text-base-content/50 ml-2">({category.components.length} components)</span>
        </h2>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
          {category.components.map(component => {
            const hasDocPage = docPages.has(component.slug);
            const href = hasDocPage ? `${siteBase}/components/${component.slug}` : `${docsBase}/${component.slug}`;

            return (
              <a
                href={href}
                class="card bg-base-200 hover:bg-base-300 transition-colors"
                itemscope
                itemtype="https://schema.org/SoftwareSourceCode"
              >
                <div class="card-body">
                  <h3 class="card-title" itemprop="name">{component.name}</h3>
                  <p class="text-sm text-base-content/70" itemprop="description">
                    {component.description}
                  </p>
                  <div class="mt-2">
                    <span class="text-xs text-base-content/50">Props: </span>
                    <code class="text-xs">{component.props.join(', ')}</code>
                  </div>
                </div>
              </a>
            );
          })}
        </div>
      </section>
    ))}

    <section class="mt-12 bg-base-200 rounded-lg p-6">
      <h2 class="text-2xl font-bold mb-4">Testing Support</h2>
      <p class="mb-4">
        All AsterUI components are built with testing in mind. Each component includes:
      </p>
      <ul class="list-disc list-inside space-y-2 mb-4">
        <li><code>data-testid</code> attributes for reliable element selection</li>
        <li><code>data-state</code> attributes for state-based testing</li>
        <li>Proper ARIA roles and labels for accessibility testing</li>
        <li>Prop pass-through support (<code>...rest</code>) for custom attributes</li>
      </ul>
      <div class="bg-base-300 rounded-lg p-4">
        <pre><code class="language-tsx">{`// Testing example with React Testing Library
import { render, screen } from '@testing-library/react';
import { Button, Modal } from 'asterui';

// Select by role (recommended)
screen.getByRole('button', { name: 'Submit' });

// Select by test ID
screen.getByTestId('modal-content');

// Check component state
expect(screen.getByRole('dialog')).toHaveAttribute('data-state', 'open');`}</code></pre>
      </div>
    </section>
  </article>
</Layout>
