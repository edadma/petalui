---
title: Dropdown
description: 用于显示操作和选项的下拉菜单组件。
tableOfContents: false
---

import {
  BasicDemo,
  ItemsPropDemo,
  PositionDemo,
  TriggerDemo,
  WithIconsDemo,
  WithDividerDemo,
  ItemStatesDemo,
  AlignDemo,
  ContextMenuDemo,
  SubmenuDemo,
  CompactButtonDemo,
  CompactIconDemo,
} from '../../../../components/DropdownDemo'
import DropdownDemoSource from '../../../../components/DropdownDemo.tsx?raw'
import Example from '../../../../components/Example.astro'

用于显示操作和选项的下拉菜单组件。

## 导入

```tsx
import { Dropdown } from 'asterui'
```

## 示例

<div class="examples">

<Example title="基础下拉菜单" description="使用组合模式的简单下拉菜单。" source={DropdownDemoSource} fn="BasicDemo">
  <BasicDemo client:load slot="demo" />
</Example>

<Example title="数据驱动（menu 属性）" description="通过 menu 属性而非组合组件定义菜单项。" source={DropdownDemoSource} fn="ItemsPropDemo">
  <ItemsPropDemo client:load slot="demo" />
</Example>

<Example title="弹出位置" description="下拉菜单可以定位在不同方向。" source={DropdownDemoSource} fn="PositionDemo">
  <PositionDemo client:load slot="demo" />
</Example>

<Example title="触发模式" description="控制下拉菜单的打开方式：点击、悬停或两者。" source={DropdownDemoSource} fn="TriggerDemo">
  <TriggerDemo client:load slot="demo" />
</Example>

<Example title="带图标" description="带图标的菜单项，提供更好的视觉上下文。" source={DropdownDemoSource} fn="WithIconsDemo">
  <WithIconsDemo client:load slot="demo" />
</Example>

<Example title="带分隔符" description="用分隔符分隔菜单部分。" source={DropdownDemoSource} fn="WithDividerDemo">
  <WithDividerDemo client:load slot="demo" />
</Example>

<Example title="项目状态" description="项目可以是激活、禁用或样式为危险。" source={DropdownDemoSource} fn="ItemStatesDemo">
  <ItemStatesDemo client:load slot="demo" />
</Example>

<Example title="对齐" description="将下拉菜单对齐到开始、中心或结尾。" source={DropdownDemoSource} fn="AlignDemo">
  <AlignDemo client:load slot="demo" />
</Example>

<Example title="右键菜单" description="使用 contextMenu 触发器在右键点击时打开下拉菜单。" source={DropdownDemoSource} fn="ContextMenuDemo">
  <ContextMenuDemo client:load slot="demo" />
</Example>

<Example title="带子菜单" description="用于分层选项的嵌套子菜单。" source={DropdownDemoSource} fn="SubmenuDemo">
  <SubmenuDemo client:load slot="demo" />
</Example>

<Example title="紧凑按钮下拉菜单" description="使用 Join 组合按钮和下拉菜单以实现紧凑的分体按钮外观。按钮会自动被视为触发器，无需 Dropdown.Trigger 包装器。悬停时自动打开。" source={DropdownDemoSource} fn="CompactButtonDemo">
  <CompactButtonDemo client:load slot="demo" />
</Example>

<Example title="紧凑图标下拉菜单" description="使用简化 API 将仅图标的下拉按钮与另一个按钮组合在一起（无需 Dropdown.Trigger 包装器）。悬停时打开以便快速访问。" source={DropdownDemoSource} fn="CompactIconDemo">
  <CompactIconDemo client:load slot="demo" />
</Example>

</div>

## API

### `Dropdown`

| 属性 | 描述 | 类型 | 默认值 |
|----------|-------------|------|---------|
| `children` | 触发元素和下拉内容（组合模式） | `React.ReactNode` | - |
| `menu` | 菜单配置（数据驱动模式） | `{ items: DropdownMenuItemType[], onClick?: (info: { key: string; keyPath: string[] }) => void }` | - |
| `trigger` | 下拉菜单的触发模式 | `('click' \| 'hover' \| 'contextMenu')[]` | `['hover']` |
| `placement` | 下拉菜单弹出位置 | `'top' \| 'topLeft' \| 'topRight' \| 'bottom' \| 'bottomLeft' \| 'bottomRight' \| 'left' \| 'right'` | `'bottomLeft'` |
| `open` | 受控的打开状态 | `boolean` | - |
| `onOpenChange` | 打开状态改变时的回调 | `(open: boolean, info?: { source }) => void` | - |
| `disabled` | 禁用下拉菜单 | `boolean` | `false` |
| `arrow` | 显示指向触发器的箭头 | `boolean \| { pointAtCenter?: boolean }` | `false` |
| `autoAdjustOverflow` | 下拉菜单被遮挡时自动调整位置 | `boolean` | `true` |
| `mouseEnterDelay` | 悬停显示前的延迟（秒） | `number` | `0.15` |
| `mouseLeaveDelay` | 鼠标离开隐藏前的延迟（秒） | `number` | `0.1` |
| `destroyOnHidden` | 隐藏时销毁下拉菜单 | `boolean` | `false` |
| `popupRender` | 自定义弹出内容 | `(menu: ReactNode) => ReactNode` | - |
| `data-testid` | 子元素的测试 ID 前缀 | `string` | - |
| `className` | 额外的 CSS 类名 | `string` | - |

### `Dropdown.Item`

| 属性 | 描述 | 类型 | 默认值 |
|----------|-------------|------|---------|
| `key` | 项目的唯一键（React key 属性） | `string` | - |
| `children` | 项目内容 | `React.ReactNode` | - |
| `label` | 项目标签（children 的替代方案） | `React.ReactNode` | - |
| `icon` | 在标签前显示的图标 | `React.ReactNode` | - |
| `onClick` | 点击处理器 | `() => void` | - |
| `active` | 激活/选中状态 | `boolean` | `false` |
| `disabled` | 禁用项目 | `boolean` | `false` |
| `danger` | 危险/破坏性样式 | `boolean` | `false` |
| `className` | 额外的 CSS 类名 | `string` | - |

### `Dropdown.SubMenu`

| 属性 | 描述 | 类型 | 默认值 |
|----------|-------------|------|---------|
| `key` | 子菜单的唯一键（React key 属性） | `string` | - |
| `children` | 子菜单项 | `React.ReactNode` | - |
| `title` | 子菜单标题/标签 | `React.ReactNode` | - |
| `icon` | 在标题前显示的图标 | `React.ReactNode` | - |
| `disabled` | 禁用子菜单 | `boolean` | `false` |

## 无障碍

- 支持 `Enter`、`Space` 和 `Escape` 键的键盘导航
- 方向键浏览菜单项
- 为屏幕阅读器提供正确的 ARIA 属性
- 打开和关闭菜单时的焦点管理
- 点击外部关闭行为
