---
import ComponentLayout from '../../layouts/ComponentLayout.astro';
import Example from '../../components/Example.astro';
import {
  BasicDemo,
  WithDaysDemo,
  SizesDemo,
  WithLabelsDemo,
  BoxedDemo,
  CallbackDemo,
} from '../../components/CountdownDemo';
import CountdownDemoSource from '../../components/CountdownDemo.tsx?raw';

const api = [
  { property: 'value', description: 'Target timestamp in milliseconds or Date object', type: 'number | Date', default: '-' },
  { property: 'format', description: "Format string: 'D' days, 'H' hours, 'M' minutes, 'S' seconds", type: 'string', default: "'HH:MM:SS'" },
  { property: 'onFinish', description: 'Callback when countdown reaches zero', type: '() => void', default: '-' },
  { property: 'onChange', description: 'Callback on each tick with remaining time', type: '(value: number) => void', default: '-' },
  { property: 'size', description: 'Size variant', type: "'xs' | 'sm' | 'md' | 'lg' | 'xl'", default: "'md'" },
  { property: 'showLabels', description: 'Show labels under each unit', type: 'boolean', default: 'false' },
  { property: 'labels', description: 'Custom labels for each unit', type: '{ days?: string, hours?: string, minutes?: string, seconds?: string }', default: '-' },
  { property: 'boxed', description: 'Show box style around each unit', type: 'boolean', default: 'false' },
  { property: 'className', description: 'Additional CSS classes', type: 'string', default: '-' },
];
---

<ComponentLayout
  name="Countdown"
  description="Countdown timer with customizable format and styling."
  api={api}
>
  <Example title="Basic Countdown" description="Simple countdown timer." source={CountdownDemoSource} fn="BasicDemo">
    <BasicDemo client:load slot="demo" />
  </Example>

  <Example title="With Days" description="Include days in the countdown." source={CountdownDemoSource} fn="WithDaysDemo">
    <WithDaysDemo client:load slot="demo" />
  </Example>

  <Example title="Sizes" description="Different size variants." source={CountdownDemoSource} fn="SizesDemo">
    <SizesDemo client:load slot="demo" />
  </Example>

  <Example title="With Labels" description="Show labels under each unit." source={CountdownDemoSource} fn="WithLabelsDemo">
    <WithLabelsDemo client:load slot="demo" />
  </Example>

  <Example title="Boxed Style" description="Each unit in a styled box." source={CountdownDemoSource} fn="BoxedDemo">
    <BoxedDemo client:load slot="demo" />
  </Example>

  <Example title="With Callback" description="Show a notification and auto-restart when countdown finishes." source={CountdownDemoSource} fn="CallbackDemo">
    <CallbackDemo client:load slot="demo" />
  </Example>

  <section slot="accessibility" class="mb-8">
    <h2 class="text-2xl font-bold mb-4">Accessibility</h2>
    <ul class="list-disc list-inside space-y-2 text-base-content/80">
      <li>Uses aria-live for announcing countdown updates</li>
      <li>Provides aria-label for each countdown unit</li>
      <li>Labels are visually associated with their values</li>
    </ul>
  </section>
</ComponentLayout>
