---
import ComponentLayout from '../../layouts/ComponentLayout.astro';
import Example from '../../components/Example.astro';
import {
  BasicDemo,
  VerticalDemo,
  ColorsDemo,
  CustomContentDemo,
  ResponsiveDemo,
  CurrentDemo,
  DataDrivenDemo,
  WithIconsDemo,
} from '../../components/StepsDemo';
import StepsDemoSource from '../../components/StepsDemo.tsx?raw';

const api = [
  { property: 'children', description: 'Step items (compound pattern)', type: 'React.ReactNode', default: '-' },
  { property: 'items', description: 'Step items (data-driven pattern)', type: 'StepItem[]', default: '-' },
  { property: 'current', description: 'Current step index (0-based)', type: 'number', default: '-' },
  { property: 'direction', description: 'Layout direction', type: "'horizontal' | 'vertical'", default: "'horizontal'" },
  { property: 'vertical', description: 'Vertical layout (deprecated, use direction)', type: 'boolean', default: 'false' },
  { property: 'onChange', description: 'Callback when step is clicked', type: '(current: number) => void', default: '-' },
  { property: 'className', description: 'Additional CSS classes', type: 'string', default: '-' },
];

const stepItemApi = [
  { property: 'key', description: 'Unique identifier', type: 'string', default: '-' },
  { property: 'title', description: 'Step title', type: 'React.ReactNode', default: '-' },
  { property: 'description', description: 'Step description', type: 'React.ReactNode', default: '-' },
  { property: 'icon', description: 'Step icon', type: 'React.ReactNode', default: '-' },
  { property: 'color', description: 'Step color', type: "'neutral' | 'primary' | 'secondary' | 'accent' | 'info' | 'success' | 'warning' | 'error'", default: '-' },
  { property: 'disabled', description: 'Whether step is disabled', type: 'boolean', default: 'false' },
];

const stepApi = [
  { property: 'children', description: 'Step content', type: 'React.ReactNode', default: '-' },
  { property: 'title', description: 'Step title (alternative to children)', type: 'React.ReactNode', default: '-' },
  { property: 'description', description: 'Step description', type: 'React.ReactNode', default: '-' },
  { property: 'icon', description: 'Step icon', type: 'React.ReactNode', default: '-' },
  { property: 'color', description: 'Step color', type: "'neutral' | 'primary' | 'secondary' | 'accent' | 'info' | 'success' | 'warning' | 'error'", default: '-' },
  { property: 'dataContent', description: 'Custom content for step indicator', type: 'string', default: '-' },
  { property: 'disabled', description: 'Whether step is disabled', type: 'boolean', default: 'false' },
  { property: 'className', description: 'Additional CSS classes', type: 'string', default: '-' },
];
---

<ComponentLayout
  name="Steps"
  description="Visual progress indicator showing sequential steps."
  api={[
    { title: 'Steps', data: api },
    { title: 'StepItem (for items prop)', data: stepItemApi },
    { title: 'Steps.Step (compound pattern)', data: stepApi },
  ]}
>
  <Example title="Basic Steps" description="Horizontal step progression." source={StepsDemoSource} fn="BasicDemo">
    <BasicDemo client:load slot="demo" />
  </Example>

  <Example title="Vertical Steps" description="Steps in vertical orientation." source={StepsDemoSource} fn="VerticalDemo">
    <VerticalDemo client:load slot="demo" />
  </Example>

  <Example title="Different Colors" description="Steps with various semantic colors." source={StepsDemoSource} fn="ColorsDemo">
    <ColorsDemo client:load slot="demo" />
  </Example>

  <Example title="Custom Content" description="Custom indicators using dataContent." source={StepsDemoSource} fn="CustomContentDemo">
    <CustomContentDemo client:load slot="demo" />
  </Example>

  <Example title="Responsive Layout" description="Vertical on mobile, horizontal on desktop." source={StepsDemoSource} fn="ResponsiveDemo">
    <ResponsiveDemo client:load slot="demo" />
  </Example>

  <Example title="Controlled Current Step" description="Use current prop to control step progress." source={StepsDemoSource} fn="CurrentDemo">
    <CurrentDemo client:load slot="demo" />
  </Example>

  <Example title="Data-Driven Pattern" description="Use items prop for data-driven steps with click navigation." source={StepsDemoSource} fn="DataDrivenDemo">
    <DataDrivenDemo client:load slot="demo" />
  </Example>

  <Example title="With Icons" description="Steps with custom icons." source={StepsDemoSource} fn="WithIconsDemo">
    <WithIconsDemo client:load slot="demo" />
  </Example>

  <section slot="accessibility" class="mb-8">
    <h2 class="text-2xl font-bold mb-4">Accessibility</h2>
    <div class="alert alert-info">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
      <div>
        <strong>Usage Tips:</strong>
        <ul class="list-disc list-inside mt-2 space-y-1">
          <li>Use the <code>current</code> prop to control which step is active</li>
          <li>Steps before <code>current</code> are automatically marked as completed</li>
          <li>Use <code>onChange</code> to enable clicking on steps for navigation</li>
          <li>Use responsive classes for mobile-friendly layouts</li>
        </ul>
      </div>
    </div>
  </section>
</ComponentLayout>
