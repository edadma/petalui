---
import ComponentLayout from '../../layouts/ComponentLayout.astro';
import Example from '../../components/Example.astro';
import {
  BasicDemo,
  WithEventsDemo,
  SlotSelectionDemo,
  StrikethroughDemo,
  CustomHoursDemo,
  AllowPastInteractionDemo,
} from '../../components/WeekCalendarDemo';
import WeekCalendarDemoSource from '../../components/WeekCalendarDemo.tsx?raw';

const api = [
  { property: 'date', description: 'The date to display (determines which week is shown)', type: 'Date', default: 'new Date()' },
  { property: 'events', description: 'Array of calendar events to display', type: 'CalendarEvent[]', default: '[]' },
  { property: 'startHour', description: 'Start hour for the time grid (0-23)', type: 'number', default: '9' },
  { property: 'endHour', description: 'End hour for the time grid (0-23)', type: 'number', default: '17' },
  { property: 'allowPastInteraction', description: 'Allow clicking on past time slots', type: 'boolean', default: 'false' },
  { property: 'fitContainer', description: 'Fit rows to container height instead of scrolling', type: 'boolean', default: 'false' },
  { property: 'locale', description: 'Locale configuration for day names and time format', type: 'CalendarLocale' },
  { property: 'onDayClick', description: 'Handler when a day header is clicked', type: '(date: Date) => void' },
  { property: 'onEventClick', description: 'Handler when an event is clicked', type: '(event: CalendarEvent) => void' },
  { property: 'onSelectSlot', description: 'Handler when a time slot is clicked', type: '(slotInfo: { start: Date; end: Date }) => void' },
];

const eventApi = [
  { property: 'date', description: 'Event date and time (hour determines which row)', type: 'Date' },
  { property: 'title', description: 'Event title', type: 'string' },
  { property: 'color', description: 'Event dot color', type: 'string' },
  { property: 'strikethrough', description: 'Show event with strikethrough (cancelled)', type: 'boolean' },
  { property: 'style', description: 'Custom inline styles for the event', type: 'CSSProperties' },
];
---

<ComponentLayout
  name="WeekCalendar"
  description="A weekly calendar view with hourly time slots for displaying and scheduling events."
  importCode="import { WeekCalendar, type CalendarEvent, type CalendarLocale } from 'asterui'"
  api={[
    { title: 'WeekCalendar', data: api },
    { title: 'CalendarEvent', data: eventApi },
  ]}
  singleColumn
>
  <Example title="Basic Calendar" description="Simple week calendar showing hourly time slots." source={WeekCalendarDemoSource} fn="BasicDemo">
    <BasicDemo client:load slot="demo" />
  </Example>

  <Example title="With Events" description="Calendar displaying events at their scheduled times." source={WeekCalendarDemoSource} fn="WithEventsDemo">
    <WithEventsDemo client:load slot="demo" />
  </Example>

  <Example title="Slot Selection" description="Click on empty time slots to select them." source={WeekCalendarDemoSource} fn="SlotSelectionDemo">
    <SlotSelectionDemo client:load slot="demo" />
  </Example>

  <Example title="Strikethrough Events" description="Show cancelled events with strikethrough styling." source={WeekCalendarDemoSource} fn="StrikethroughDemo">
    <StrikethroughDemo client:load slot="demo" />
  </Example>

  <Example title="Custom Hours" description="Show only morning hours (6am-12pm) using startHour and endHour." source={WeekCalendarDemoSource} fn="CustomHoursDemo">
    <CustomHoursDemo client:load slot="demo" />
  </Example>

  <Example title="Allow Past Interaction" description="Enable clicking on past time slots." source={WeekCalendarDemoSource} fn="AllowPastInteractionDemo">
    <AllowPastInteractionDemo client:load slot="demo" />
  </Example>
</ComponentLayout>
