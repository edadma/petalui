---
import ComponentLayout from '../../layouts/ComponentLayout.astro';
import Example from '../../components/Example.astro';
import {
  BasicDemo,
  LoadingDemo,
  DurationDemo,
  StackingDemo,
} from '../../components/MessageDemo';
import MessageDemoSource from '../../components/MessageDemo.tsx?raw';

const api = [
  {
    property: 'content',
    description: 'Message text (first argument)',
    type: 'React.ReactNode',
  },
  {
    property: 'duration',
    description: 'Auto-close duration in seconds',
    type: 'number',
    default: '3',
  },
  {
    property: 'key',
    description: 'Unique identifier. Updating with same key updates existing message',
    type: 'string',
  },
  {
    property: 'icon',
    description: 'Custom icon to display',
    type: 'React.ReactNode',
  },
  {
    property: 'className',
    description: 'Additional CSS class',
    type: 'string',
  },
  {
    property: 'style',
    description: 'Inline styles',
    type: 'React.CSSProperties',
  },
  {
    property: 'data-testid',
    description: 'Test ID for testing frameworks',
    type: 'string',
  },
  {
    property: 'onClick',
    description: 'Callback when message is clicked',
    type: '() => void',
  },
  {
    property: 'onClose',
    description: 'Callback when message is closed',
    type: '() => void',
  },
];
---

<ComponentLayout
  name="Message"
  description="Lightweight feedback messages displayed at the top center of the screen."
  api={api}
>
  <Example title="Basic Messages" description="Lightweight feedback messages for user actions." source={MessageDemoSource} fn="BasicDemo">
    <BasicDemo client:load slot="demo" />
  </Example>

  <Example title="Loading Message" description="Show a loading message that can be dismissed programmatically." source={MessageDemoSource} fn="LoadingDemo">
    <LoadingDemo client:load slot="demo" />
  </Example>

  <Example title="Custom Duration" description="Control how long messages stay visible." source={MessageDemoSource} fn="DurationDemo">
    <DurationDemo client:load slot="demo" />
  </Example>

  <Example title="Stacking Messages" description="Multiple messages stack at the top center of the screen." source={MessageDemoSource} fn="StackingDemo">
    <StackingDemo client:load slot="demo" />
  </Example>

  <section slot="accessibility" class="mb-8">
    <h2 class="text-2xl font-bold mb-4">Accessibility</h2>
    <ul class="list-disc list-inside space-y-2 text-base-content/80">
      <li>Messages are announced to screen readers via live regions</li>
      <li>Icons provide visual cues alongside color for message type</li>
      <li>Messages auto-dismiss but can be configured to persist</li>
    </ul>
  </section>
</ComponentLayout>
