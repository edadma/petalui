---
import ComponentLayout from '../../layouts/ComponentLayout.astro';
import Example from '../../components/Example.astro';
import {
  BasicDemo,
  PlacementDemo,
  WithFooterDemo,
  ExtraDemo,
  SizesDemo,
  LoadingDemo,
  NestedDemo,
  NoMaskDemo,
} from '../../components/DrawerDemo';
import DrawerDemoSource from '../../components/DrawerDemo.tsx?raw';

const api = [
  { property: 'children', description: 'Drawer content', type: 'React.ReactNode' },
  { property: 'open', description: 'Controlled open state', type: 'boolean', default: 'false' },
  { property: 'onClose', description: 'Close handler', type: '(e?: React.MouseEvent | React.KeyboardEvent) => void' },
  { property: 'afterOpenChange', description: 'Callback after open/close animation completes', type: '(open: boolean) => void' },
  { property: 'title', description: 'Drawer title', type: 'React.ReactNode' },
  { property: 'placement', description: 'Drawer position', type: "'left' | 'right' | 'top' | 'bottom'", default: "'right'" },
  { property: 'size', description: 'Preset size (378px or 736px) or custom number', type: "'default' | 'large' | number", default: "'default'" },
  { property: 'width', description: 'Custom width (overrides size for left/right)', type: 'string | number' },
  { property: 'height', description: 'Custom height (overrides size for top/bottom)', type: 'string | number' },
  { property: 'closable', description: 'Show close button', type: 'boolean', default: 'true' },
  { property: 'mask', description: 'Show overlay mask', type: 'boolean', default: 'true' },
  { property: 'maskClosable', description: 'Close on mask click', type: 'boolean', default: 'true' },
  { property: 'keyboard', description: 'Close on ESC key', type: 'boolean', default: 'true' },
  { property: 'footer', description: 'Footer content', type: 'React.ReactNode' },
  { property: 'extra', description: 'Extra content in header (right side)', type: 'React.ReactNode' },
  { property: 'loading', description: 'Show loading skeleton', type: 'boolean', default: 'false' },
  { property: 'destroyOnClose', description: 'Destroy content when closed', type: 'boolean', default: 'false' },
  { property: 'forceRender', description: 'Pre-render content (keep in DOM when closed)', type: 'boolean', default: 'false' },
  { property: 'push', description: 'Nested drawer push behavior', type: 'boolean | { distance: number }', default: '{ distance: 180 }' },
  { property: 'zIndex', description: 'z-index of drawer', type: 'number', default: '1000' },
  { property: 'className', description: 'CSS class for drawer panel', type: 'string' },
];
---

<ComponentLayout
  name="Drawer"
  description="A panel that slides in from the edge of the screen. Use for forms, details, or task panels."
  api={api}
>
  <Example title="Basic Drawer" description="Simple drawer from the right side." source={DrawerDemoSource} fn="BasicDemo">
    <BasicDemo client:load slot="demo" />
  </Example>

  <Example title="Placement" description="Drawer can slide in from any direction." source={DrawerDemoSource} fn="PlacementDemo">
    <PlacementDemo client:load slot="demo" />
  </Example>

  <Example title="With Footer" description="Drawer with action buttons in footer." source={DrawerDemoSource} fn="WithFooterDemo">
    <WithFooterDemo client:load slot="demo" />
  </Example>

  <Example title="Extra Header Content" description="Drawer with extra actions in the header." source={DrawerDemoSource} fn="ExtraDemo">
    <ExtraDemo client:load slot="demo" />
  </Example>

  <Example title="Preset Sizes" description="Default (378px) and large (736px) preset sizes." source={DrawerDemoSource} fn="SizesDemo">
    <SizesDemo client:load slot="demo" />
  </Example>

  <Example title="Loading State" description="Drawer with skeleton loading state." source={DrawerDemoSource} fn="LoadingDemo">
    <LoadingDemo client:load slot="demo" />
  </Example>

  <Example title="Nested Drawers" description="Multiple drawers with push behavior." source={DrawerDemoSource} fn="NestedDemo">
    <NestedDemo client:load slot="demo" />
  </Example>

  <Example title="No Mask" description="Drawer without backdrop overlay." source={DrawerDemoSource} fn="NoMaskDemo">
    <NoMaskDemo client:load slot="demo" />
  </Example>

  <section slot="accessibility" class="mb-8">
    <h2 class="text-2xl font-bold mb-4">Related</h2>
    <ul class="list-disc list-inside text-base-content/80 space-y-1">
      <li>For responsive sidebar navigation that toggles on mobile, use <a href="/components/responsivedrawer" class="link link-primary">ResponsiveDrawer</a></li>
    </ul>
  </section>
</ComponentLayout>
