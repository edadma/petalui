---
import ComponentLayout from '../../layouts/ComponentLayout.astro';
import Example from '../../components/Example.astro';
import {
  BasicDemo,
  ResponsiveDemo,
  CustomWidthDemo,
  EndDemo,
  CustomSidebarDemo,
} from '../../components/ResponsiveDrawerDemo';
import ResponsiveDrawerDemoSource from '../../components/ResponsiveDrawerDemo.tsx?raw';

const api = [
  { property: 'children', description: 'Main content area', type: 'React.ReactNode' },
  { property: 'sidebar', description: 'Sidebar content', type: 'React.ReactNode' },
  { property: 'open', description: 'Controlled open state', type: 'boolean', default: 'false' },
  { property: 'onOpenChange', description: 'Callback when open state changes', type: '(open: boolean) => void' },
  { property: 'end', description: 'Position sidebar on the right side', type: 'boolean', default: 'false' },
  { property: 'width', description: 'Width of the sidebar', type: 'number | string', default: '320' },
  { property: 'responsive', description: 'Breakpoint at which sidebar becomes always visible', type: "'sm' | 'md' | 'lg' | 'xl' | '2xl'" },
  { property: 'sidebarClassName', description: 'Additional classes for sidebar container', type: 'string' },
  { property: 'contentClassName', description: 'Additional classes for content area', type: 'string' },
  { property: 'overlayClassName', description: 'Additional classes for the overlay', type: 'string' },
  { property: 'id', description: 'Unique ID for the drawer (auto-generated if not provided)', type: 'string' },
  { property: 'className', description: 'Additional CSS classes for drawer wrapper', type: 'string' },
  { property: 'data-testid', description: 'Test ID for testing', type: 'string' },
];
---

<ComponentLayout
  name="ResponsiveDrawer"
  description="A responsive sidebar layout using DaisyUI's drawer. Use for navigation sidebars that toggle on mobile but can be always visible on larger screens."
  api={api}
>
  <Example title="Basic ResponsiveDrawer" description="Responsive sidebar that toggles on mobile." source={ResponsiveDrawerDemoSource} fn="BasicDemo">
    <BasicDemo client:load slot="demo" />
  </Example>

  <Example title="Always Open on Desktop" description="Sidebar toggles on mobile but is always visible on lg screens and up." source={ResponsiveDrawerDemoSource} fn="ResponsiveDemo">
    <ResponsiveDemo client:load slot="demo" />
  </Example>

  <Example title="Custom Width" description="Sidebar with custom width." source={ResponsiveDrawerDemoSource} fn="CustomWidthDemo">
    <CustomWidthDemo client:load slot="demo" />
  </Example>

  <Example title="Right-Side Sidebar" description="Sidebar positioned on the right side." source={ResponsiveDrawerDemoSource} fn="EndDemo">
    <EndDemo client:load slot="demo" />
  </Example>

  <Example title="Custom Sidebar Content" description="Sidebar with custom styled content." source={ResponsiveDrawerDemoSource} fn="CustomSidebarDemo">
    <CustomSidebarDemo client:load slot="demo" />
  </Example>

  <section slot="accessibility" class="mb-8">
    <h2 class="text-2xl font-bold mb-4">Usage Notes</h2>
    <ul class="list-disc list-inside space-y-2 text-base-content/80">
      <li>ResponsiveDrawer wraps DaisyUI's <code class="bg-base-content/20 px-1 rounded">drawer</code> component</li>
      <li>Use <code class="bg-base-content/20 px-1 rounded">open</code> and <code class="bg-base-content/20 px-1 rounded">onOpenChange</code> for controlled state</li>
      <li>Use <code class="bg-base-content/20 px-1 rounded">responsive</code> prop to make sidebar always visible above a breakpoint</li>
      <li>Use <code class="bg-base-content/20 px-1 rounded">width</code> to customize sidebar width (default: 320px)</li>
      <li>Use <code class="bg-base-content/20 px-1 rounded">end</code> prop to position the sidebar on the right side</li>
      <li>For panel drawers that slide over content (like forms or detail views), use the <a href="/components/drawer" class="link link-primary">Drawer</a> component instead</li>
    </ul>

    <h2 class="text-2xl font-bold mb-4 mt-8">Comparison</h2>
    <div class="overflow-x-auto">
      <table class="table table-zebra">
        <thead>
          <tr>
            <th>Feature</th>
            <th>ResponsiveDrawer</th>
            <th>Drawer</th>
            <th>Layout.Sider</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Use Case</td>
            <td>Responsive navigation sidebars</td>
            <td>Overlay panels for forms, details</td>
            <td>Permanent collapsible sidebars</td>
          </tr>
          <tr>
            <td>Rendering</td>
            <td>Part of page layout</td>
            <td>Portal to document.body</td>
            <td>Part of Layout structure</td>
          </tr>
          <tr>
            <td>Overlay</td>
            <td>Yes (mobile)</td>
            <td>Yes (always)</td>
            <td>No</td>
          </tr>
          <tr>
            <td>Responsive</td>
            <td>Yes (auto-open at breakpoint)</td>
            <td>No</td>
            <td>Yes (auto-collapse)</td>
          </tr>
          <tr>
            <td>Placement</td>
            <td>Left or right</td>
            <td>All 4 sides</td>
            <td>Left or right</td>
          </tr>
          <tr>
            <td>Header/Footer</td>
            <td>No built-in</td>
            <td>Yes (title, footer props)</td>
            <td>No built-in</td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
</ComponentLayout>
