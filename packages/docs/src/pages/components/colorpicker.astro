---
import ComponentLayout from '../../layouts/ComponentLayout.astro';
import Example from '../../components/Example.astro';
import {
  BasicDemo,
  ShowTextDemo,
  PresetsDemo,
  SizesDemo,
  ControlledDemo,
  ModesDemo,
} from '../../components/ColorPickerDemo';
import ColorPickerDemoSource from '../../components/ColorPickerDemo.tsx?raw';

const api = [
  { property: 'value', description: 'Controlled color value (hex)', type: 'string', default: '-' },
  { property: 'defaultValue', description: 'Initial color value (uncontrolled)', type: 'string', default: "'#000000'" },
  { property: 'onChange', description: 'Callback when color changes', type: '(color: string) => void', default: '-' },
  { property: 'mode', description: 'Display mode', type: "'swatches' | 'picker' | 'both'", default: "'both'" },
  { property: 'presets', description: 'Preset color swatches', type: 'string[]', default: 'Default palette' },
  { property: 'showText', description: 'Show hex value below picker', type: 'boolean', default: 'false' },
  { property: 'allowClear', description: 'Show clear button to reset color', type: 'boolean', default: 'false' },
  { property: 'disabled', description: 'Disable the picker', type: 'boolean', default: 'false' },
  { property: 'size', description: 'Picker size', type: "'xs' | 'sm' | 'md' | 'lg'", default: "'md'" },
  { property: 'data-testid', description: 'Test ID prefix for child elements', type: 'string', default: "'colorpicker'" },
  { property: 'className', description: 'Additional CSS classes', type: 'string', default: '-' },
];
---

<ComponentLayout
  name="ColorPicker"
  description="Color selection control with presets and multiple format support."
  api={api}
>
  <Example title="Basic ColorPicker" description="Simple color picker with saturation/lightness panel and hue slider." source={ColorPickerDemoSource} fn="BasicDemo">
    <BasicDemo client:load slot="demo" />
  </Example>

  <Example title="With Text Display" description="Color picker showing the hex value below the picker." source={ColorPickerDemoSource} fn="ShowTextDemo">
    <ShowTextDemo client:load slot="demo" />
  </Example>

  <Example title="Custom Presets" description="Color picker with custom preset color swatches." source={ColorPickerDemoSource} fn="PresetsDemo">
    <PresetsDemo client:load slot="demo" />
  </Example>

  <Example title="Sizes" description="Color pickers in different sizes." source={ColorPickerDemoSource} fn="SizesDemo">
    <SizesDemo client:load slot="demo" />
  </Example>

  <Example title="Controlled" description="Controlled color picker with state management." source={ColorPickerDemoSource} fn="ControlledDemo">
    <ControlledDemo client:load slot="demo" />
  </Example>

  <Example title="Display Modes" description="Picker only, swatches only, or both." source={ColorPickerDemoSource} fn="ModesDemo">
    <ModesDemo client:load slot="demo" />
  </Example>

  <section slot="accessibility" class="mb-8">
    <h2 class="text-2xl font-bold mb-4">Accessibility</h2>
    <ul class="list-disc list-inside space-y-2 text-base-content/80">
      <li>Saturation/lightness panel has <code class="bg-base-content/20 px-1 rounded">role="slider"</code> with <code class="bg-base-content/20 px-1 rounded">aria-valuetext</code></li>
      <li>Hue slider has <code class="bg-base-content/20 px-1 rounded">role="slider"</code> with <code class="bg-base-content/20 px-1 rounded">aria-valuemin</code>, <code class="bg-base-content/20 px-1 rounded">aria-valuemax</code>, and <code class="bg-base-content/20 px-1 rounded">aria-valuenow</code></li>
      <li>Color presets use <code class="bg-base-content/20 px-1 rounded">role="listbox"</code> and <code class="bg-base-content/20 px-1 rounded">role="option"</code> with <code class="bg-base-content/20 px-1 rounded">aria-selected</code></li>
      <li>Full keyboard navigation: Arrow keys adjust color values, Shift+Arrow for larger steps</li>
      <li>Visible focus indicators on interactive elements</li>
      <li>All interactive elements have descriptive <code class="bg-base-content/20 px-1 rounded">aria-label</code> attributes</li>
    </ul>
  </section>
</ComponentLayout>
