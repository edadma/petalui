---
import ComponentLayout from '../../layouts/ComponentLayout.astro';
import Example from '../../components/Example.astro';
import {
  BasicDemo,
  MultilineDemo,
  LineNumbersDemo,
  HighlightDemo,
  CopyableDemo,
  CopyableMultilineDemo,
} from '../../components/CodeDemo';
import CodeDemoSource from '../../components/CodeDemo.tsx?raw';

const api = [
  { title: 'Code', data: [
    { property: 'children', description: 'Code lines content', type: 'React.ReactNode' },
    { property: 'copyable', description: 'Show copy button. Pass true to auto-extract text, or a string for custom copy text', type: 'boolean | string', default: 'false' },
    { property: 'className', description: 'Additional CSS classes', type: 'string' },
  ]},
  { title: 'Code.Line', data: [
    { property: 'children', description: 'Line content', type: 'React.ReactNode' },
    { property: 'prefix', description: 'Line prefix (e.g., $, >, line number)', type: 'string' },
    { property: 'className', description: 'Additional CSS classes', type: 'string' },
    { property: 'highlight', description: 'Highlight this line', type: 'boolean', default: 'false' },
  ]},
];
---

<ComponentLayout
  name="Code"
  description="Code mockup display for terminal commands and code snippets."
  api={api}
>
  <Example title="Basic Code Block" description="Simple code mockup with command prefix." source={CodeDemoSource} fn="BasicDemo">
    <BasicDemo client:load slot="demo" />
  </Example>

  <Example title="Multiple Lines" description="Code block with multiple lines and different prefixes." source={CodeDemoSource} fn="MultilineDemo">
    <MultilineDemo client:load slot="demo" />
  </Example>

  <Example title="Line Numbers" description="Code block with line number prefixes." source={CodeDemoSource} fn="LineNumbersDemo">
    <LineNumbersDemo client:load slot="demo" />
  </Example>

  <Example title="Highlighted Lines" description="Code block with highlighted lines for emphasis." source={CodeDemoSource} fn="HighlightDemo">
    <HighlightDemo client:load slot="demo" />
  </Example>

  <Example title="With Copy Button" description="Add a copy button with the copyable prop." source={CodeDemoSource} fn="CopyableDemo">
    <CopyableDemo client:load slot="demo" />
  </Example>

  <Example title="Copy Button (Multiline)" description="Copy button works with multiple lines too." source={CodeDemoSource} fn="CopyableMultilineDemo">
    <CopyableMultilineDemo client:load slot="demo" />
  </Example>

  <section slot="accessibility" class="mb-8">
    <div class="alert alert-info">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
      <div>
        <strong>Usage Tips:</strong>
        <ul class="list-disc list-inside mt-2 space-y-1">
          <li>Use <code class="bg-base-content/20 px-1 rounded">prefix="$"</code> for shell commands</li>
          <li>Use line numbers for code snippets</li>
          <li>Highlight important lines with the <code class="bg-base-content/20 px-1 rounded">highlight</code> prop</li>
        </ul>
      </div>
    </div>
  </section>
</ComponentLayout>
