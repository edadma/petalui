---
import ComponentLayout from '../../layouts/ComponentLayout.astro';
import Example from '../../components/Example.astro';
import {
  ShowAboveDemo,
  HideBelowDemo,
  ShowAtDemo,
  ShowBetweenDemo,
  ResponsiveLayoutDemo,
  UseBreakpointDemo,
} from '../../components/ResponsiveDemo';
import ResponsiveDemoSource from '../../components/ResponsiveDemo.tsx?raw';
import ApiTable from '../../components/ApiTable.astro';

const showHideApi = [
  { property: 'children', description: 'Content to show/hide', type: 'ReactNode', default: '-' },
  { property: 'above', description: 'Show/hide at this breakpoint and above', type: "Breakpoint", default: '-' },
  { property: 'below', description: 'Show/hide below this breakpoint', type: "Breakpoint", default: '-' },
  { property: 'at', description: 'Show/hide at exactly this breakpoint (or array of breakpoints)', type: "Breakpoint | Breakpoint[]", default: '-' },
  { property: 'between', description: 'Show/hide between two breakpoints (inclusive)', type: "[Breakpoint, Breakpoint]", default: '-' },
];

const hookReturnApi = [
  { property: 'breakpoint', description: 'Current active breakpoint', type: "Breakpoint", default: '-' },
  { property: 'width', description: 'Current window width in pixels', type: "number", default: '-' },
  { property: 'isAbove(bp)', description: 'Returns true if current breakpoint >= bp', type: "(bp: Breakpoint) => boolean", default: '-' },
  { property: 'isBelow(bp)', description: 'Returns true if current breakpoint < bp', type: "(bp: Breakpoint) => boolean", default: '-' },
  { property: 'isAt(bp)', description: 'Returns true if current breakpoint === bp', type: "(bp: Breakpoint) => boolean", default: '-' },
  { property: 'isBetween(min, max)', description: 'Returns true if current breakpoint is between min and max (inclusive)', type: "(min: Breakpoint, max: Breakpoint) => boolean", default: '-' },
];

const breakpointsTable = [
  { property: 'xs', description: 'Extra small screens', type: '0px', default: '-' },
  { property: 'sm', description: 'Small screens', type: '640px', default: '-' },
  { property: 'md', description: 'Medium screens', type: '768px', default: '-' },
  { property: 'lg', description: 'Large screens', type: '1024px', default: '-' },
  { property: 'xl', description: 'Extra large screens', type: '1280px', default: '-' },
  { property: '2xl', description: 'Double extra large screens', type: '1536px', default: '-' },
];
---

<ComponentLayout
  name="Responsive"
  description="Components and hooks for building responsive layouts based on screen size."
  api={showHideApi}
>
  <section slot="before-examples" class="mb-8">
    <h2 class="text-2xl font-bold mb-4">Breakpoints</h2>
    <p class="text-base-content/70 mb-4">AsterUI uses the same breakpoints as Tailwind CSS:</p>
    <ApiTable title="Breakpoint Values" data={breakpointsTable} />
  </section>

  <Example title="Show Above Breakpoint" description="Show content only at medium screens and above." source={ResponsiveDemoSource} fn="ShowAboveDemo">
    <ShowAboveDemo client:load slot="demo" />
  </Example>

  <Example title="Hide Below Breakpoint" description="Hide content on small screens." source={ResponsiveDemoSource} fn="HideBelowDemo">
    <HideBelowDemo client:load slot="demo" />
  </Example>

  <Example title="Show At Specific Breakpoints" description="Show content only at specific breakpoints." source={ResponsiveDemoSource} fn="ShowAtDemo">
    <ShowAtDemo client:load slot="demo" />
  </Example>

  <Example title="Show Between Breakpoints" description="Show content within a range of breakpoints." source={ResponsiveDemoSource} fn="ShowBetweenDemo">
    <ShowBetweenDemo client:load slot="demo" />
  </Example>

  <Example title="Responsive Layout" description="Build different layouts for mobile and desktop." source={ResponsiveDemoSource} fn="ResponsiveLayoutDemo">
    <ResponsiveLayoutDemo client:load slot="demo" />
  </Example>

  <Example title="useBreakpoint Hook" description="Access breakpoint info programmatically." source={ResponsiveDemoSource} fn="UseBreakpointDemo">
    <UseBreakpointDemo client:load slot="demo" />
  </Example>

  <section slot="after-api" class="mb-8">
    <h2 class="text-2xl font-bold mb-4">useBreakpoint Hook</h2>
    <ApiTable title="useBreakpoint Return Value" data={hookReturnApi} />
  </section>

  <section slot="accessibility" class="mb-8">
    <h2 class="text-2xl font-bold mb-4">Notes</h2>
    <ul class="list-disc list-inside space-y-2 text-base-content/80">
      <li><code class="bg-base-content/20 px-1 rounded">Show</code> and <code class="bg-base-content/20 px-1 rounded">Hide</code> use JavaScript to detect the breakpoint, not CSS media queries</li>
      <li>Only one condition prop (<code class="bg-base-content/20 px-1 rounded">above</code>, <code class="bg-base-content/20 px-1 rounded">below</code>, <code class="bg-base-content/20 px-1 rounded">at</code>, or <code class="bg-base-content/20 px-1 rounded">between</code>) should be used at a time</li>
      <li>The hook updates on window resize to track the current breakpoint</li>
      <li>Server-side rendering defaults to 1024px width (lg breakpoint)</li>
    </ul>
  </section>
</ComponentLayout>
