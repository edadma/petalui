---
import ComponentLayout from '../../layouts/ComponentLayout.astro';
import Example from '../../components/Example.astro';
import {
  BasicUploadDemo,
  DragUploadDemo,
  PictureCardUploadDemo,
  ControlledUploadDemo,
  MaxSizeUploadDemo,
  AcceptUploadDemo,
  FormUploadDemo,
} from '../../components/UploadDemo';
import UploadDemoSource from '../../components/UploadDemo.tsx?raw';

const api = [
  { property: 'fileList', description: 'Controlled list of uploaded files', type: 'UploadFile[]', default: '-' },
  { property: 'onChange', description: 'Callback when file list changes', type: '({ fileList }) => void', default: '-' },
  { property: 'customRequest', description: 'Custom upload request handler', type: '({ file, onSuccess, onError }) => void', default: '-' },
  { property: 'listType', description: 'Display style of file list', type: "'text' | 'picture' | 'picture-card'", default: "'text'" },
  { property: 'maxCount', description: 'Maximum number of files', type: 'number', default: '-' },
  { property: 'maxSize', description: 'Maximum file size in bytes', type: 'number', default: '-' },
  { property: 'accept', description: 'Accepted file types', type: 'string', default: '-' },
  { property: 'disabled', description: 'Disable the upload', type: 'boolean', default: 'false' },
  { property: 'children', description: 'Upload trigger element', type: 'React.ReactNode', default: '-' },
  { property: 'className', description: 'Additional CSS classes', type: 'string', default: '-' },
];
---

<ComponentLayout
  name="Upload"
  description="File upload component with drag-and-drop support."
  api={api}
>
  <Example title="Basic Upload" description="Simple file upload with button trigger." source={UploadDemoSource} fn="BasicUploadDemo">
    <BasicUploadDemo client:only="react" slot="demo" />
  </Example>

  <Example title="Drag and Drop" description="Drag files to the upload area." source={UploadDemoSource} fn="DragUploadDemo">
    <DragUploadDemo client:only="react" slot="demo" />
  </Example>

  <Example title="Picture Card" description="Display uploaded images as cards." source={UploadDemoSource} fn="PictureCardUploadDemo">
    <PictureCardUploadDemo client:only="react" slot="demo" />
  </Example>

  <Example title="Controlled Upload" description="Control file list with state and custom request." source={UploadDemoSource} fn="ControlledUploadDemo">
    <ControlledUploadDemo client:only="react" slot="demo" />
  </Example>

  <Example title="Max File Size" description="Limit file size with validation." source={UploadDemoSource} fn="MaxSizeUploadDemo">
    <MaxSizeUploadDemo client:only="react" slot="demo" />
  </Example>

  <Example title="Accept File Types" description="Restrict file types that can be uploaded." source={UploadDemoSource} fn="AcceptUploadDemo">
    <AcceptUploadDemo client:only="react" slot="demo" />
  </Example>

  <Example title="In Form" description="Upload integrated with Form component." source={UploadDemoSource} fn="FormUploadDemo">
    <FormUploadDemo client:only="react" slot="demo" />
  </Example>

  <section slot="accessibility" class="mb-8">
    <h2 class="text-2xl font-bold mb-4">Accessibility</h2>
    <ul class="list-disc list-inside space-y-2 text-base-content/80">
      <li>File input is properly labeled</li>
      <li>Drag and drop zone has keyboard support</li>
      <li>Upload progress is announced to screen readers</li>
      <li>Remove buttons are keyboard accessible</li>
    </ul>
  </section>
</ComponentLayout>
