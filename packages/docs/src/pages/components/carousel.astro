---
import ComponentLayout from '../../layouts/ComponentLayout.astro';
import Example from '../../components/Example.astro';
import {
  BasicDemo,
  AutoplayDemo,
  FadeDemo,
  VerticalDemo,
  NoControlsDemo,
  DotPlacementDemo,
  CustomContentDemo,
} from '../../components/CarouselDemo';
import CarouselDemoSource from '../../components/CarouselDemo.tsx?raw';

const api = [
  { title: 'Carousel', data: [
    { property: 'children', description: 'Carousel slides (Carousel.Item components)', type: 'ReactNode' },
    { property: 'activeIndex', description: 'Current slide index (controlled mode)', type: 'number' },
    { property: 'defaultActiveIndex', description: 'Default slide index (uncontrolled mode)', type: 'number', default: '0' },
    { property: 'autoplay', description: 'Auto-advance slides', type: 'boolean', default: 'false' },
    { property: 'autoplaySpeed', description: 'Autoplay interval in milliseconds', type: 'number', default: '3000' },
    { property: 'speed', description: 'Animation duration in milliseconds', type: 'number', default: '500' },
    { property: 'arrows', description: 'Show prev/next navigation arrows', type: 'boolean', default: 'true' },
    { property: 'dots', description: 'Show slide indicator dots', type: 'boolean | { className?: string }', default: 'true' },
    { property: 'dotPlacement', description: 'Position of indicator dots', type: "'top' | 'bottom' | 'start' | 'end'", default: "'bottom'" },
    { property: 'effect', description: 'Transition effect', type: "'scrollx' | 'fade'", default: "'scrollx'" },
    { property: 'infinite', description: 'Enable infinite looping', type: 'boolean', default: 'true' },
    { property: 'pauseOnHover', description: 'Pause autoplay on hover', type: 'boolean', default: 'true' },
    { property: 'vertical', description: 'Vertical carousel orientation', type: 'boolean', default: 'false' },
    { property: 'beforeChange', description: 'Callback before slide change', type: '(current: number, next: number) => void' },
    { property: 'afterChange', description: 'Callback after slide change', type: '(current: number) => void' },
    { property: 'className', description: 'Additional CSS classes', type: 'string' },
    { property: 'data-testid', description: 'Test ID for testing; child elements use this as prefix', type: 'string' },
  ]},
  { title: 'Carousel.Item', data: [
    { property: 'children', description: 'Slide content', type: 'ReactNode' },
    { property: 'className', description: 'Additional CSS classes', type: 'string' },
    { property: 'data-testid', description: 'Test ID for testing', type: 'string' },
  ]},
  { title: 'CarouselRef Methods', data: [
    { property: 'goTo', description: 'Navigate to a specific slide', type: '(index: number, animate?: boolean) => void' },
    { property: 'next', description: 'Go to the next slide', type: '() => void' },
    { property: 'prev', description: 'Go to the previous slide', type: '() => void' },
  ]},
];
---

<ComponentLayout
  name="Carousel"
  description="Rotating content carousel with navigation controls, indicators, and autoplay support."
  api={api}
>
  <Example title="Basic Carousel" description="Simple carousel with navigation controls and indicators." source={CarouselDemoSource} fn="BasicDemo">
    <BasicDemo client:load slot="demo" />
  </Example>

  <Example title="Autoplay" description="Carousel with automatic slide advancement. Pauses on hover." source={CarouselDemoSource} fn="AutoplayDemo">
    <AutoplayDemo client:load slot="demo" />
  </Example>

  <Example title="Fade Effect" description="Carousel with fade transition instead of slide." source={CarouselDemoSource} fn="FadeDemo">
    <FadeDemo client:load slot="demo" />
  </Example>

  <Example title="Vertical Carousel" description="Carousel with vertical orientation." source={CarouselDemoSource} fn="VerticalDemo">
    <VerticalDemo client:load slot="demo" />
  </Example>

  <Example title="Without Arrows" description="Carousel with arrows hidden, dots-only navigation." source={CarouselDemoSource} fn="NoControlsDemo">
    <NoControlsDemo client:load slot="demo" />
  </Example>

  <Example title="Dot Placement" description="Position indicator dots at different locations." source={CarouselDemoSource} fn="DotPlacementDemo">
    <DotPlacementDemo client:load slot="demo" />
  </Example>

  <Example title="Custom Content" description="Carousel with custom slide content like cards." source={CarouselDemoSource} fn="CustomContentDemo">
    <CustomContentDemo client:load slot="demo" />
  </Example>

  <section slot="accessibility" class="mb-8">
    <div class="alert alert-info">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
      <div>
        <strong>Usage Tips:</strong>
        <ul class="list-disc list-inside mt-2 space-y-1">
          <li>Use <code class="bg-base-content/20 px-1 rounded">Carousel.Item</code> to wrap each slide</li>
          <li>Set a fixed height on the Carousel for consistent layout</li>
          <li>Autoplay pauses on hover for better UX</li>
          <li>Use arrow keys to navigate when the carousel is focused</li>
          <li>Access <code class="bg-base-content/20 px-1 rounded">goTo</code>, <code class="bg-base-content/20 px-1 rounded">next</code>, <code class="bg-base-content/20 px-1 rounded">prev</code> methods via ref</li>
        </ul>
      </div>
    </div>
  </section>
</ComponentLayout>
