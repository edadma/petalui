---
import ComponentLayout from '../../layouts/ComponentLayout.astro';
import Example from '../../components/Example.astro';
import {
  BasicDemo,
  WithTextDemo,
  ColorsDemo,
  VariantsDemo,
  SizesDemo,
  ShapesDemo,
  CodeBlockDemo,
  InputCopyDemo,
  CallbackDemo,
  CustomTimeoutDemo,
} from '../../components/CopyButtonDemo';
import CopyButtonDemoSource from '../../components/CopyButtonDemo.tsx?raw';

const api = [
  { property: 'text', description: 'Text to copy to clipboard', type: 'string', default: '-' },
  { property: 'timeout', description: 'Duration in ms to show copied state', type: 'number', default: '2000' },
  { property: 'color', description: 'Button color', type: "'primary' | 'secondary' | 'accent' | 'info' | 'success' | 'warning' | 'error' | 'neutral'", default: '-' },
  { property: 'variant', description: 'Button style variant', type: "'solid' | 'outline' | 'dash' | 'soft' | 'ghost' | 'link'", default: '-' },
  { property: 'size', description: 'Button size', type: "'xs' | 'sm' | 'md' | 'lg' | 'xl'", default: "'md'" },
  { property: 'shape', description: 'Button shape', type: "'square' | 'circle'", default: '-' },
  { property: 'icon', description: 'Custom icon for default state', type: 'ReactNode', default: 'Copy icon' },
  { property: 'copiedIcon', description: 'Custom icon for copied state', type: 'ReactNode', default: 'Check icon' },
  { property: 'children', description: 'Custom content for default state (overrides icon)', type: 'ReactNode', default: '-' },
  { property: 'copiedChildren', description: 'Custom content for copied state', type: 'ReactNode', default: '-' },
  { property: 'onCopy', description: 'Callback when copy succeeds', type: '() => void', default: '-' },
  { property: 'onError', description: 'Callback when copy fails', type: '(error: Error) => void', default: '-' },
  { property: 'showTooltip', description: 'Show tooltip with copy status', type: 'boolean', default: 'false' },
  { property: 'tooltipText', description: 'Tooltip text for default state', type: 'string', default: "'Copy'" },
  { property: 'copiedTooltipText', description: 'Tooltip text for copied state', type: 'string', default: "'Copied!'" },
  { property: 'disabled', description: 'Disable the button', type: 'boolean', default: 'false' },
];
---

<ComponentLayout
  name="CopyButton"
  description="A button component for copying text to the clipboard with visual feedback."
  api={api}
>
  <Example title="Basic Usage" description="Simple copy button with default icon. Enable tooltip for visual feedback." source={CopyButtonDemoSource} fn="BasicDemo">
    <BasicDemo client:load slot="demo" />
  </Example>

  <Example title="With Text Content" description="Display text content instead of the default icon." source={CopyButtonDemoSource} fn="WithTextDemo">
    <WithTextDemo client:load slot="demo" />
  </Example>

  <Example title="Colors" description="Apply different color themes to the button." source={CopyButtonDemoSource} fn="ColorsDemo">
    <ColorsDemo client:load slot="demo" />
  </Example>

  <Example title="Variants" description="Different button style variants." source={CopyButtonDemoSource} fn="VariantsDemo">
    <VariantsDemo client:load slot="demo" />
  </Example>

  <Example title="Sizes" description="Available button sizes." source={CopyButtonDemoSource} fn="SizesDemo">
    <SizesDemo client:load slot="demo" />
  </Example>

  <Example title="Shapes" description="Square and circle button shapes." source={CopyButtonDemoSource} fn="ShapesDemo">
    <ShapesDemo client:load slot="demo" />
  </Example>

  <Example title="Code Block" description="Copy button positioned in the corner of a custom code block." source={CopyButtonDemoSource} fn="CodeBlockDemo">
    <CodeBlockDemo client:load slot="demo" />
  </Example>

  <Example title="Input with Copy" description="Copy the value from an input field." source={CopyButtonDemoSource} fn="InputCopyDemo">
    <InputCopyDemo client:load slot="demo" />
  </Example>

  <Example title="Callbacks" description="Handle copy success and error events." source={CopyButtonDemoSource} fn="CallbackDemo">
    <CallbackDemo client:load slot="demo" />
  </Example>

  <Example title="Custom Timeout" description="Control how long the copied state is shown." source={CopyButtonDemoSource} fn="CustomTimeoutDemo">
    <CustomTimeoutDemo client:load slot="demo" />
  </Example>

  <section slot="accessibility" class="mb-8">
    <h2 class="text-2xl font-bold mb-4">Related</h2>
    <ul class="list-disc list-inside text-base-content/80 space-y-1">
      <li><a href="/components/button" class="link link-primary">Button</a> - Base button component</li>
      <li><code class="text-sm bg-base-200 px-1 rounded">useClipboard</code> - Hook for clipboard operations</li>
    </ul>
  </section>
</ComponentLayout>
