---
import ComponentLayout from '../../layouts/ComponentLayout.astro';
import Example from '../../components/Example.astro';
import {
  BasicDemo,
  MinMaxDemo,
  StepDemo,
  PrecisionDemo,
  SizesDemo,
  NoControlsDemo,
  DisabledDemo,
} from '../../components/InputNumberDemo';
import InputNumberDemoSource from '../../components/InputNumberDemo.tsx?raw';

const api = [
  {
    property: 'value',
    description: 'Current number value (controlled)',
    type: 'number',
  },
  {
    property: 'defaultValue',
    description: 'Initial value (uncontrolled)',
    type: 'number',
  },
  {
    property: 'onChange',
    description: 'Callback when value changes',
    type: '(value: number | null) => void',
  },
  {
    property: 'min',
    description: 'Minimum value',
    type: 'number',
    default: '-Infinity',
  },
  {
    property: 'max',
    description: 'Maximum value',
    type: 'number',
    default: 'Infinity',
  },
  {
    property: 'step',
    description: 'Value increment/decrement step',
    type: 'number',
    default: '1',
  },
  {
    property: 'precision',
    description: 'Decimal precision for display',
    type: 'number',
  },
  {
    property: 'formatter',
    description: 'Format display value',
    type: '(value: number | undefined) => string',
  },
  {
    property: 'parser',
    description: 'Parse display value to number',
    type: '(displayValue: string) => number',
  },
  {
    property: 'controls',
    description: 'Show increment/decrement buttons',
    type: 'boolean',
    default: 'true',
  },
  {
    property: 'disabled',
    description: 'Disabled state',
    type: 'boolean',
    default: 'false',
  },
  {
    property: 'size',
    description: 'Input size',
    type: "'xs' | 'sm' | 'md' | 'lg' | 'xl'",
  },
  {
    property: 'block',
    description: 'Full width input',
    type: 'boolean',
    default: 'false',
  },
  {
    property: 'className',
    description: 'Additional CSS classes',
    type: 'string',
  },
];
---

<ComponentLayout
  name="InputNumber"
  description="Numeric input field with increment/decrement controls and value constraints."
  api={api}
>
  <Example title="Basic Input Number" description="Simple number input with increment/decrement controls." source={InputNumberDemoSource} fn="BasicDemo">
    <BasicDemo client:load slot="demo" />
  </Example>

  <Example title="Min/Max Limits" description="Number input with minimum and maximum value constraints." source={InputNumberDemoSource} fn="MinMaxDemo">
    <MinMaxDemo client:load slot="demo" />
  </Example>

  <Example title="Custom Step" description="Number input with custom increment/decrement step value." source={InputNumberDemoSource} fn="StepDemo">
    <StepDemo client:load slot="demo" />
  </Example>

  <Example title="Decimal Precision" description="Number input with decimal precision control." source={InputNumberDemoSource} fn="PrecisionDemo">
    <PrecisionDemo client:load slot="demo" />
  </Example>

  <Example title="Sizes" description="Five sizes: xs, sm, md, lg, and xl." source={InputNumberDemoSource} fn="SizesDemo">
    <SizesDemo client:load slot="demo" />
  </Example>

  <Example title="Without Controls" description="Number input without increment/decrement buttons." source={InputNumberDemoSource} fn="NoControlsDemo">
    <NoControlsDemo client:load slot="demo" />
  </Example>

  <Example title="Disabled" description="Disabled input number state." source={InputNumberDemoSource} fn="DisabledDemo">
    <DisabledDemo client:load slot="demo" />
  </Example>

  <section slot="accessibility" class="mb-8">
    <h2 class="text-2xl font-bold mb-4">Accessibility</h2>
    <ul class="list-disc list-inside space-y-2 text-base-content/80">
      <li>Uses <code class="bg-base-content/20 px-1 rounded">role="spinbutton"</code> with <code class="bg-base-content/20 px-1 rounded">inputMode="decimal"</code> for proper semantics</li>
      <li>Exposes <code class="bg-base-content/20 px-1 rounded">aria-valuemin</code>, <code class="bg-base-content/20 px-1 rounded">aria-valuemax</code>, and <code class="bg-base-content/20 px-1 rounded">aria-valuenow</code> for screen readers</li>
      <li>Increment/decrement buttons have <code class="bg-base-content/20 px-1 rounded">aria-label</code> for screen reader users</li>
      <li>Disabled state is properly announced to screen readers</li>
      <li>Focus states are clearly visible for keyboard navigation</li>
      <li>Arrow keys can be used to increment/decrement values</li>
    </ul>
  </section>
</ComponentLayout>
