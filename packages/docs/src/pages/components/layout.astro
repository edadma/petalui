---
import ComponentLayout from '../../layouts/ComponentLayout.astro';
import Example from '../../components/Example.astro';
import {
  BasicDemo,
  WithSiderDemo,
  SiderRightDemo,
  CollapsibleDemo,
  MenuNavigationDemo,
  SubmenuDemo,
} from '../../components/LayoutDemo';
import LayoutDemoSource from '../../components/LayoutDemo.tsx?raw';

const api = [
  { title: 'Layout', data: [
    { property: 'children', description: 'Layout content (Header, Sider, Content, Footer)', type: 'React.ReactNode' },
    { property: 'hasSider', description: 'Whether contains Sider (auto-detected if not specified)', type: 'boolean' },
    { property: 'className', description: 'Additional CSS classes', type: 'string' },
    { property: 'style', description: 'Inline styles', type: 'React.CSSProperties' },
    { property: 'data-testid', description: 'Test ID for testing', type: 'string' },
  ]},
  { title: 'Layout.Header', data: [
    { property: 'children', description: 'Header content', type: 'React.ReactNode' },
    { property: 'className', description: 'Additional CSS classes', type: 'string' },
    { property: 'style', description: 'Inline styles', type: 'React.CSSProperties' },
    { property: 'data-testid', description: 'Test ID for testing', type: 'string' },
  ]},
  { title: 'Layout.Footer', data: [
    { property: 'children', description: 'Footer content', type: 'React.ReactNode' },
    { property: 'className', description: 'Additional CSS classes', type: 'string' },
    { property: 'style', description: 'Inline styles', type: 'React.CSSProperties' },
    { property: 'data-testid', description: 'Test ID for testing', type: 'string' },
  ]},
  { title: 'Layout.Sider', data: [
    { property: 'children', description: 'Sider content', type: 'React.ReactNode' },
    { property: 'width', description: 'Width of the sider', type: 'number | string', default: '200' },
    { property: 'collapsedWidth', description: 'Width when collapsed', type: 'number | string', default: '80' },
    { property: 'collapsed', description: 'Controlled collapsed state', type: 'boolean' },
    { property: 'defaultCollapsed', description: 'Initial collapsed state', type: 'boolean', default: 'false' },
    { property: 'collapsible', description: 'Whether the sider can be collapsed', type: 'boolean', default: 'false' },
    { property: 'onCollapse', description: 'Callback when collapse state changes', type: "(collapsed: boolean, type: 'clickTrigger' | 'responsive') => void" },
    { property: 'trigger', description: 'Custom trigger element (null to hide)', type: 'React.ReactNode | null' },
    { property: 'breakpoint', description: 'Breakpoint for auto-collapse', type: "'sm' | 'md' | 'lg' | 'xl' | '2xl'" },
    { property: 'onBreakpoint', description: 'Callback when breakpoint is crossed', type: '(broken: boolean) => void' },
    { property: 'reverseArrow', description: 'Reverse direction of arrow (for right-side sider)', type: 'boolean', default: 'false' },
    { property: 'theme', description: 'Color theme of the sider', type: "'light' | 'dark'", default: "'dark'" },
    { property: 'zeroWidthTriggerStyle', description: 'Style for zero-width trigger', type: 'React.CSSProperties' },
    { property: 'className', description: 'Additional CSS classes', type: 'string' },
    { property: 'style', description: 'Inline styles', type: 'React.CSSProperties' },
    { property: 'data-testid', description: 'Test ID for testing; trigger uses {id}-trigger suffix', type: 'string' },
  ]},
  { title: 'Layout.Content', data: [
    { property: 'children', description: 'Content area content', type: 'React.ReactNode' },
    { property: 'className', description: 'Additional CSS classes', type: 'string' },
    { property: 'style', description: 'Inline styles', type: 'React.CSSProperties' },
    { property: 'data-testid', description: 'Test ID for testing', type: 'string' },
  ]},
];
---

<ComponentLayout
  name="Layout"
  description="Structural components for building application layouts with header, footer, sidebar, and content areas."
  importCode="import { Layout, Menu } from 'asterui'"
  api={api}
>
  <Example title="Basic Layout" description="Simple header, content, and footer layout." source={LayoutDemoSource} fn="BasicDemo">
    <BasicDemo client:load slot="demo" />
  </Example>

  <Example title="Layout with Sider and Menu" description="Layout with side navigation using the Menu component." source={LayoutDemoSource} fn="WithSiderDemo">
    <WithSiderDemo client:load slot="demo" />
  </Example>

  <Example title="Sider on Right" description="Layout with sidebar on the right side using reverseArrow." source={LayoutDemoSource} fn="SiderRightDemo">
    <SiderRightDemo client:load slot="demo" />
  </Example>

  <Example title="Collapsible Sider" description="Sider with collapse/expand functionality and built-in trigger." source={LayoutDemoSource} fn="CollapsibleDemo">
    <CollapsibleDemo client:load slot="demo" />
  </Example>

  <Example title="Menu Navigation" description="Interactive sider with Menu that changes content when items are selected." source={LayoutDemoSource} fn="MenuNavigationDemo">
    <MenuNavigationDemo client:load slot="demo" />
  </Example>

  <Example title="Inline Menu with Submenus" description="Layout with nested submenus using inline mode for expandable navigation." source={LayoutDemoSource} fn="SubmenuDemo">
    <SubmenuDemo client:load slot="demo" />
  </Example>

  <section slot="accessibility" class="mb-8">
    <h2 class="text-2xl font-bold mb-4">Accessibility</h2>
    <ul class="list-disc list-inside space-y-2 text-base-content/80">
      <li>Layout components provide a semantic structure for your application</li>
      <li>Use <code class="bg-base-content/20 px-1 rounded">Layout.Header</code> for the top navigation or branding area</li>
      <li>Use <code class="bg-base-content/20 px-1 rounded">Layout.Footer</code> for the bottom footer content</li>
      <li>Use <code class="bg-base-content/20 px-1 rounded">Layout.Sider</code> for side navigation or auxiliary content</li>
      <li>Use <code class="bg-base-content/20 px-1 rounded">Layout.Content</code> for the main content area</li>
      <li>The Layout automatically detects Sider components and adjusts to horizontal layout</li>
      <li>Layouts can be nested to create complex page structures</li>
      <li>Use <code class="bg-base-content/20 px-1 rounded">collapsible</code> prop on Sider for responsive navigation</li>
      <li>Use <code class="bg-base-content/20 px-1 rounded">reverseArrow</code> for right-side siders</li>
      <li>Combine with <code class="bg-base-content/20 px-1 rounded">Menu</code> component for navigation with selectable items</li>
      <li>All components forward refs and support <code class="bg-base-content/20 px-1 rounded">data-testid</code> for testing</li>
    </ul>
  </section>
</ComponentLayout>
