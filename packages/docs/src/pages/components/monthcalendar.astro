---
import ComponentLayout from '../../layouts/ComponentLayout.astro';
import Example from '../../components/Example.astro';
import {
  BasicDemo,
  WithEventsDemo,
  DaySelectorDemo,
  MaxEventsDemo,
  StrikethroughDemo,
  AllowPastInteractionDemo,
} from '../../components/MonthCalendarDemo';
import MonthCalendarDemoSource from '../../components/MonthCalendarDemo.tsx?raw';

const api = [
  { property: 'date', description: 'The date to display (determines which month is shown)', type: 'Date', default: 'new Date()' },
  { property: 'events', description: 'Array of calendar events to display', type: 'CalendarEvent[]', default: '[]' },
  { property: 'header', description: 'Show month/year header', type: 'boolean', default: 'false' },
  { property: 'daySelector', description: 'Enable day selection with visual feedback', type: 'boolean', default: 'false' },
  { property: 'ellipsis', description: 'Truncate long event titles with ellipsis', type: 'boolean', default: 'false' },
  { property: 'maxEventsPerDay', description: 'Maximum events to show per day before "+N more"', type: 'number', default: '5' },
  { property: 'allowPastInteraction', description: 'Allow clicking on past dates', type: 'boolean', default: 'false' },
  { property: 'locale', description: 'Locale configuration for day/month names', type: 'CalendarLocale' },
  { property: 'onDayClick', description: 'Handler when a day cell is clicked', type: '(date: Date) => void' },
  { property: 'onEventClick', description: 'Handler when an event is clicked', type: '(event: CalendarEvent) => void' },
  { property: 'onMoreEventsClick', description: 'Handler when "+N more" is clicked', type: '(date: Date, events: CalendarEvent[]) => void' },
];

const eventApi = [
  { property: 'date', description: 'Event date and time', type: 'Date' },
  { property: 'title', description: 'Event title', type: 'string' },
  { property: 'color', description: 'Event dot color', type: 'string' },
  { property: 'strikethrough', description: 'Show event with strikethrough (cancelled)', type: 'boolean' },
  { property: 'style', description: 'Custom inline styles for the event', type: 'CSSProperties' },
];
---

<ComponentLayout
  name="MonthCalendar"
  description="A full month calendar view for displaying events and selecting dates."
  importCode="import { MonthCalendar, type CalendarEvent, type CalendarLocale } from 'asterui'"
  api={[
    { title: 'MonthCalendar', data: api },
    { title: 'CalendarEvent', data: eventApi },
  ]}
  singleColumn
>
  <Example title="Basic Calendar" description="Simple month calendar wrapped in a Card." source={MonthCalendarDemoSource} fn="BasicDemo">
    <BasicDemo client:load slot="demo" />
  </Example>

  <Example title="With Events" description="Calendar displaying events with colored dots." source={MonthCalendarDemoSource} fn="WithEventsDemo">
    <WithEventsDemo client:load slot="demo" />
  </Example>

  <Example title="Day Selection" description="Enable day selection with visual feedback." source={MonthCalendarDemoSource} fn="DaySelectorDemo">
    <DaySelectorDemo client:load slot="demo" />
  </Example>

  <Example title="Max Events Per Day" description="Limit visible events with '+N more' overflow." source={MonthCalendarDemoSource} fn="MaxEventsDemo">
    <MaxEventsDemo client:load slot="demo" />
  </Example>

  <Example title="Strikethrough Events" description="Show cancelled events with strikethrough styling." source={MonthCalendarDemoSource} fn="StrikethroughDemo">
    <StrikethroughDemo client:load slot="demo" />
  </Example>

  <Example title="Allow Past Interaction" description="Enable clicking on past dates." source={MonthCalendarDemoSource} fn="AllowPastInteractionDemo">
    <AllowPastInteractionDemo client:load slot="demo" />
  </Example>
</ComponentLayout>
