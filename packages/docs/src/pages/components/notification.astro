---
import ComponentLayout from '../../layouts/ComponentLayout.astro';
import Example from '../../components/Example.astro';
import {
  BasicDemo,
  PlacementsDemo,
  DurationDemo,
} from '../../components/NotificationDemo';
import NotificationDemoSource from '../../components/NotificationDemo.tsx?raw';

const api = [
  {
    property: 'message',
    description: 'Notification title',
    type: 'React.ReactNode',
  },
  {
    property: 'description',
    description: 'Notification content',
    type: 'React.ReactNode',
  },
  {
    property: 'duration',
    description: 'Auto-close duration in seconds',
    type: 'number',
    default: '4.5',
  },
  {
    property: 'placement',
    description: 'Position of notification',
    type: "'topLeft' | 'topRight' | 'bottomLeft' | 'bottomRight'",
    default: "'topRight'",
  },
  {
    property: 'type',
    description: 'Type of notification (for notification.open)',
    type: "'success' | 'error' | 'info' | 'warning'",
  },
];
---

<ComponentLayout
  name="Notification"
  description="Display global notification messages at screen corners."
  api={api}
>
  <Example title="Basic Notifications" description="Different notification types with simple messages." source={NotificationDemoSource} fn="BasicDemo">
    <BasicDemo client:load slot="demo" />
  </Example>

  <Example title="Placement" description="Show notifications in different corner positions." source={NotificationDemoSource} fn="PlacementsDemo">
    <PlacementsDemo client:load slot="demo" />
  </Example>

  <Example title="Custom Duration" description="Control how long notifications stay visible." source={NotificationDemoSource} fn="DurationDemo">
    <DurationDemo client:load slot="demo" />
  </Example>

  <section slot="accessibility" class="mb-8">
    <h2 class="text-2xl font-bold mb-4">Accessibility</h2>
    <ul class="list-disc list-inside space-y-2 text-base-content/80">
      <li>Uses <code class="bg-base-content/20 px-1 rounded">role="alert"</code> for screen reader announcements</li>
      <li>Notifications are keyboard accessible and can be dismissed with Escape key</li>
      <li>Color and icons provide redundant information for accessibility</li>
      <li>Duration set to 0 creates persistent notifications that require manual dismissal</li>
    </ul>
  </section>

  <section slot="api-notes">
    <h3 class="text-xl font-semibold mb-3">Methods</h3>
    <div class="space-y-2 mb-4">
      <div class="p-3 bg-base-200 rounded-lg font-mono text-sm">
        notification.success(config)
      </div>
      <div class="p-3 bg-base-200 rounded-lg font-mono text-sm">
        notification.error(config)
      </div>
      <div class="p-3 bg-base-200 rounded-lg font-mono text-sm">
        notification.info(config)
      </div>
      <div class="p-3 bg-base-200 rounded-lg font-mono text-sm">
        notification.warning(config)
      </div>
      <div class="p-3 bg-base-200 rounded-lg font-mono text-sm">
        notification.open(config)
      </div>
    </div>
  </section>
</ComponentLayout>
